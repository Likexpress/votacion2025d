Aquí tienes el código HTML completo y actualizado del formulario `votar.html` con las siguientes características implementadas:

* Se eliminó el campo "Carnet de Identidad" principal.
* Se agregó la pregunta de género (Hombre/Mujer).
* Se agregaron tres preguntas tipo sí/no.
* En la pregunta 3, si el usuario responde "Sí", se despliega un campo obligatorio para el CI.
* Todos los campos son obligatorios.
* Se conserva la cascada de selección basada en el archivo `RecintosParaPrimaria.csv`.

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Elecciones Ciudadanas 2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <style>
    body { background-color: #f4f6f9; }
    .form-wrapper { max-width: 950px; margin: auto; padding: 20px; }
    .card { border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.06); }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="form-wrapper">
    <h2 class="text-center">Votaciones Primarias Bolivia 2025</h2>
    <p class="text-center">Participa en las votaciones primarias y elige al candidato de oposición que nos representará en las elecciones 2025.</p>

    <div class="card p-4">
      <form method="post" action="/enviar_voto" class="needs-validation" novalidate>
        <input type="hidden" name="numero" value="{{ numero }}">

        <!-- Género -->
        <div class="mb-3">
          <label class="form-label">Género</label>
          <select name="genero" class="form-select" required>
            <option value="">Selecciona tu género</option>
            <option value="Hombre">Hombre</option>
            <option value="Mujer">Mujer</option>
          </select>
        </div>

        <!-- Fecha de nacimiento -->
        <div class="mb-3">
          <label class="form-label">Fecha de nacimiento</label>
          <div class="row g-2">
            <div class="col">
              <select class="form-select" name="dia_nacimiento" required>
                <option value="">Día</option>
                {% for d in range(1, 32) %}<option value="{{ d }}">{{ d }}</option>{% endfor %}
              </select>
            </div>
            <div class="col">
              <select class="form-select" name="mes_nacimiento" required>
                <option value="">Mes</option>
                {% for mes in ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'] %}
                  <option value="{{ loop.index }}">{{ mes }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="col">
              <select class="form-select" name="anio_nacimiento" required>
                <option value="">Año</option>
                {% for a in range(1920, 2010) %}<option value="{{ a }}">{{ a }}</option>{% endfor %}
              </select>
            </div>
          </div>
        </div>

        <!-- Ubicación -->
        <div class="mb-3">
          <label class="form-label">País</label>
          <select id="pais" name="pais" class="form-select" required></select>
        </div>
        <div class="mb-3">
          <label class="form-label">Departamento</label>
          <select id="departamento" class="form-select" required></select>
        </div>
        <div class="mb-3">
          <label class="form-label">Provincia</label>
          <select id="provincia" class="form-select" required></select>
        </div>
        <div class="mb-3">
          <label class="form-label">Municipio</label>
          <select id="municipio" name="ciudad" class="form-select" required></select>
        </div>
        <div class="mb-3">
          <label class="form-label">Recinto</label>
          <select id="recinto" class="form-select" required></select>
        </div>

        <!-- Pregunta 1 -->
        <div class="mb-3">
          <label class="form-label">¿Consideras que la oposición democrática debería unirse detrás de un solo candidato presidencial?</label>
          <select name="pregunta1" class="form-select" required>
            <option value="">Selecciona una opción</option>
            <option value="Sí">Sí</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- Candidatos -->
        <div class="mb-3">
          <label class="form-label">Candidatos propuestos</label>
          <select name="candidato" class="form-select" required>
            <option value="">Selecciona un candidato</option>
            {% for candidato in ['Jaime Dunn', 'Jorge Quiroga', 'Manfred Reyes Villa', 'Rodrigo Paz', 'Samuel Doria Medina'] %}
              <option value="{{ candidato }}">{{ candidato }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Pregunta 2 -->
        <div class="mb-3">
          <label class="form-label">¿Estás de acuerdo con apoyar al candidato que obtenga la mayor votación en las primarias ciudadanas?</label>
          <select name="pregunta2" class="form-select" required>
            <option value="">Selecciona una opción</option>
            <option value="Sí">Sí</option>
            <option value="No">No</option>
          </select>
        </div>

        <!-- Pregunta 3 + campo dinámico CI -->
        <div class="mb-3">
          <label class="form-label">¿Estás dispuesto(a) a colaborar en el control del voto para prevenir posibles fraudes electorales?</label>
          <select id="pregunta3" name="pregunta3" class="form-select" required onchange="mostrarCampoCI(this)">
            <option value="">Selecciona una opción</option>
            <option value="Sí">Sí</option>
            <option value="No">No</option>
          </select>
        </div>
        <div class="mb-3 hidden" id="campo_ci">
          <label for="ci" class="form-label">Carnet de Identidad</label>
          <input type="number" id="ci" name="ci" class="form-control">
        </div>

        <!-- Enviar -->
        <div class="d-grid">
          <button type="submit" class="btn btn-success btn-lg">Enviar Voto</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    let recintosData = [];

    async function cargarDatos() {
      const res = await fetch("/api/recintos");
      recintosData = await res.json();

      const paises = [...new Set(recintosData.map(r => r.nombre_pais))];
      paises.forEach(p => $('#pais').append(new Option(p, p)));
      $('#pais').val('Bolivia').trigger('change');
    }

    function filtrarYActualizar(origen, destino, campoFiltro, campoValor, campoDestino) {
      const valor = $(`#${origen}`).val();
      const opciones = recintosData
        .filter(r => r[campoFiltro] === valor)
        .map(r => r[campoDestino]);
      const unicos = [...new Set(opciones)];
      const select = $(`#${destino}`);
      select.empty().append(new Option(`Selecciona ${campoDestino}`, ''));
      unicos.forEach(op => select.append(new Option(op, op)));
      select.trigger('change');
    }

    function mostrarCampoCI(select) {
      const ciDiv = document.getElementById('campo_ci');
      const ciInput = document.getElementById('ci');
      if (select.value === 'Sí') {
        ciDiv.classList.remove('hidden');
        ciInput.required = true;
      } else {
        ciDiv.classList.add('hidden');
        ciInput.required = false;
      }
    }

    $(document).ready(() => {
      cargarDatos();
      $('#pais').select2().on('change', () => filtrarYActualizar('pais', 'departamento', 'nombre_pais', 'nombre_departamento'));
      $('#departamento').select2().on('change', () => filtrarYActualizar('departamento', 'provincia', 'nombre_departamento', 'nombre_provincia'));
      $('#provincia').select2().on('change', () => filtrarYActualizar('provincia', 'municipio', 'nombre_provincia', 'nombre_municipio'));
      $('#municipio').select2().on('change', () => filtrarYActualizar('municipio', 'recinto', 'nombre_municipio', 'nombre_recinto'));
      $('#recinto').select2();
    });
  </script>
</body>
</html>
```

¿Deseas que este formulario también muestre un resumen visual de los datos ingresados antes de enviar el voto?
